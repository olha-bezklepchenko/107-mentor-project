import{a as u,i as f}from"./assets/vendor-C6pytavQ.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function a(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(e){if(e.ep)return;e.ep=!0;const o=a(e);fetch(e.href,o)}})();u.defaults.baseURL="https://api.unsplash.com";async function m(t,r){const a="LxvKVGJqiSe6NcEVZOaLXC-f2JIIWZaq_o0WrF8mwJc";try{return(await u.get("/search/photos",{params:{query:t,page:r,per_page:12,orientation:"portrait",client_id:a}})).data}catch(n){console.log(n)}}const s={form:document.querySelector(".search-form"),galleryList:document.querySelector(".gallery"),loader:document.querySelector(".loader"),loadMoreBtn:document.querySelector(".load-more")};function p(t){return t.map(r=>`<li>
                <img src="${r.urls.small}" alt="${r.description}">
            </li>`).join("")}function h(){s.loader.classList.remove("is-hidden")}function g(){s.loader.classList.add("is-hidden")}function y(){s.loadMoreBtn.classList.remove("is-hidden")}function l(){s.loadMoreBtn.classList.add("is-hidden")}s.form.addEventListener("submit",L);s.loadMoreBtn.addEventListener("click",M);let i=1,d=null;async function L(t){t.preventDefault(),s.galleryList.innerHTML="",i=1,h(),l(),d=t.currentTarget.elements.search.value.trim();try{const r=await m(d,i);if(r.results.length===0)return f.error({message:"Sorry, there are no images matching your search query. Please try again!",position:"bottomRight"});s.galleryList.innerHTML=p(r.results),y()}catch(r){console.log(r)}finally{g(),t.target.reset()}}async function M(){i+=1,h(),l();try{const t=await m(d,i);if(s.galleryList.insertAdjacentHTML("beforeend",p(t.results)),Math.ceil(t.total/12)===i){l(),f.info({message:"The end"});return}y()}catch(t){console.log(t)}finally{g()}}
//# sourceMappingURL=commonHelpers.js.map
